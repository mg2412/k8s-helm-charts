apiVersion: logicmonitor.com/v1alpha1
kind: CollectorSet
metadata:
  name: lab1-ord
  namespace: $NAMESPACE
spec:
  policy:
    distributionStrategy: RoundRobin
    orchestrator: Kubernetes
  replicas: {{ required "A valid .Values.collector.replicas entry is required!" .Values.collector.replicas }}
  size: $COLLECTOR_SIZE
  clusterName: lab1-ord
  
  groupID:  $COLLECTOR_GROUP_ID
  {{- end }}
  {{- if .Values.collector.escalationChainID }}
  escalationChainID: $COLLECTOR_ESCALATION_CHAIN_ID
  
  collectorVersion: $COLLECTOR_VERSION
  
  useEA: $COLLECTOR_USE_EA
  
  proxyURL: $COLLECTOR_PROXY_URL
  secretName: {{ required "A valid .Values.collector.secretName entry is required!" .Values.collector.secretName }}
  {{- end }}
